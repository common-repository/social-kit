( function( $, elementor ) {
  "use strict";
    var soc = {

      init: function() {
        var widgets = {
          'soc-social-bar.default' : soc.socSocialBar,
          'soc-social-popup.default': soc.popup,
          'soc-twitch-widget.default': soc.twitch,
        };
        $.each( widgets, function( widget, callback ) {
          window.elementorFrontend.hooks.addAction( 'frontend/element_ready/' + widget, callback );
        });
      },

      socSocialBar: function( $scope ) {
        console.log('Nothing Else matters.....');
        var socikon = $scope.find('.sultan-icon'),
        soclink = socikon.attr('data-link');

        socikon.on('click',function(){
          $(location).attr('href', soclink);
        });
      }, // End Interactive Portfolio
      popup:function( $scope ){
      $(window).scroll(function() {
         var Settingz = $('.sk-pp-main').attr('data-offset');
         var Closebtn = $('.sk-pp-closebtn');
          var scrollTop = $(window).scrollTop();
          Closebtn.on('click',function(){
            $('.sk-pp-main').fadeOut();
          });
            if ( scrollTop >= Settingz) { 
             $('.sk-pp-main').attr('open','');
            }
        });
      },

     twitch:function( $scope ){
       var twplayer = $scope.find( '#twitch-embed' ),
        settings = twplayer.attr('data-settings'); 
        settings = JSON.parse(settings);

       new Twitch.Player("twitch-embed", {
          channel: settings.username,
          width: settings.width,
          height: settings.height,
        });
      },
    }

  $( window ).on( 'elementor/frontend/init', soc.init );

}( jQuery, window.elementorFrontend ) );
